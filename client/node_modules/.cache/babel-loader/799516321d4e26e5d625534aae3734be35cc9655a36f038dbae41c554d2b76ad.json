{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\David\\\\Desktop\\\\veranum-system\\\\client\\\\src\\\\pages\\\\ReservationsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\nimport styles from './ReservarPage.module.css';\nimport { createReservation } from '../services/reservasService';\nimport AuthContext from '../context/AuthContext';\nimport { getServiciosByHotelAdmin } from '../services/adminService';\nimport Notification from '../components/common/Notification';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getRoomImageUrl = roomName => {\n  const name = roomName ? roomName.toLowerCase() : '';\n  if (name.includes('doble')) return 'https://images-new.pxsol.com/0yXQIHHgg6QPIqHMdt5cFppRjSdRImPYVZKA8Zjp0F0/rs:fill:600:400:1/q:80/plain/https://files-public-web.s3-us-west-2.amazonaws.com/1217/company/library/user/209394497137de94aa9d4ab3e8a7f395b32600345c1.jpeg@jpeg';\n  if (name.includes('individual')) return 'https://www.abbahoteles.com/idb/72372/hotel_balmoral_individual-600x400.jpg';\n  if (name.includes('matrimonial')) return 'https://www.hotelterrano.cl/wp-content/uploads/2021/10/suite-1.jpg';\n  return `https://placehold.co/600x400/005f73/ffffff?text=${(roomName || '').replace(' ', '+')}`;\n};\nconst ReservationsPage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const {\n    preselectedRoom\n  } = location.state || {};\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [noches, setNoches] = useState(0);\n  const [serviciosDisponibles, setServiciosDisponibles] = useState([]);\n  const [serviciosSeleccionados, setServiciosSeleccionados] = useState(new Set());\n  const [costoAlojamiento, setCostoAlojamiento] = useState(0);\n  const [costoServicios, setCostoServicios] = useState(0);\n  const [costoTotal, setCostoTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [notification, setNotification] = useState({\n    show: false,\n    message: '',\n    type: ''\n  });\n  useEffect(() => {\n    if (preselectedRoom !== null && preselectedRoom !== void 0 && preselectedRoom.hotel_id) {\n      getServiciosByHotelAdmin(preselectedRoom.hotel_id).then(response => {\n        if (response.data) {\n          setServiciosDisponibles(response.data);\n        }\n      }).catch(err => {\n        console.error(\"Error al cargar servicios adicionales:\", err);\n      });\n    }\n  }, [preselectedRoom]);\n  useEffect(() => {\n    if (checkIn && checkOut) {\n      const date1 = new Date(checkIn);\n      const date2 = new Date(checkOut);\n      if (date2 > date1) {\n        const diffTime = Math.abs(date2 - date1);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        setNoches(diffDays);\n        setCostoAlojamiento(diffDays * ((preselectedRoom === null || preselectedRoom === void 0 ? void 0 : preselectedRoom.precio) || 0));\n        return;\n      }\n    }\n    setNoches(0);\n    setCostoAlojamiento(0);\n  }, [checkIn, checkOut, preselectedRoom]);\n  useEffect(() => {\n    let totalDiarioServicios = 0;\n    serviciosSeleccionados.forEach(servicioId => {\n      const servicio = serviciosDisponibles.find(s => s._id === servicioId);\n      if (servicio) {\n        totalDiarioServicios += servicio.precio_diario;\n      }\n    });\n    setCostoServicios(totalDiarioServicios * noches);\n  }, [serviciosSeleccionados, noches, serviciosDisponibles]);\n  useEffect(() => {\n    setCostoTotal(costoAlojamiento + costoServicios);\n  }, [costoAlojamiento, costoServicios]);\n  const handleServicioChange = id => {\n    const nuevosServicios = new Set(serviciosSeleccionados);\n    nuevosServicios.has(id) ? nuevosServicios.delete(id) : nuevosServicios.add(id);\n    setServiciosSeleccionados(nuevosServicios);\n  };\n  const handleConfirm = async () => {\n    if (!user) {\n      navigate('/login', {\n        state: {\n          from: location\n        }\n      });\n      return;\n    }\n    if (noches <= 0) {\n      setError('Por favor, selecciona fechas válidas.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const reservationData = {\n        habitacion_id: preselectedRoom._id,\n        fecha_inicio: checkIn,\n        fecha_fin: checkOut,\n        estado: 'Confirmado',\n        servicios_adicionales: Array.from(serviciosSeleccionados)\n      };\n      await createReservation(reservationData);\n      setNotification({\n        show: true,\n        message: '¡Su reserva se ha realizado con éxito!',\n        type: 'success'\n      });\n      setTimeout(() => {\n        navigate('/dashboard/mis-reservas');\n      }, 3000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'No se pudo completar la reserva.';\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getMinCheckOutDate = () => {\n    if (!checkIn) return new Date().toISOString().split('T')[0];\n    const checkInDate = new Date(checkIn);\n    checkInDate.setDate(checkInDate.getDate() + 1);\n    return checkInDate.toISOString().split('T')[0];\n  };\n  const handleCheckInChange = e => {\n    const newCheckIn = e.target.value;\n    setCheckIn(newCheckIn);\n    if (checkOut && new Date(checkOut) <= new Date(newCheckIn)) {\n      setCheckOut('');\n    }\n  };\n  if (!preselectedRoom) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      style: {\n        textAlign: 'center',\n        padding: '4rem 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"No se ha seleccionado ninguna habitaci\\xF3n. Por favor, \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/habitaciones\",\n          children: \"vuelve a la p\\xE1gina de habitaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 73\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this);\n  }\n  const roomImage = getRoomImageUrl(preselectedRoom.nombre);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Notification, {\n      show: notification.show,\n      message: notification.message,\n      type: notification.type,\n      onClose: () => setNotification({\n        show: false,\n        message: '',\n        type: ''\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `container ${styles.bookingPageLayout}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.roomInfoColumn,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: roomImage,\n          alt: preselectedRoom.nombre,\n          className: styles.roomImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.roomDetails,\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: preselectedRoom.nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.roomDescription,\n            children: preselectedRoom.descripcion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.roomCapacity,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [preselectedRoom.capacidad, \" personas\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.bookingFormColumn,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.bookingCard,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Completa tu reserva\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.datePickerGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.dateInput,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"checkin\",\n                children: \"Check-in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"checkin\",\n                value: checkIn,\n                onChange: handleCheckInChange,\n                min: new Date().toISOString().split('T')[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.arrow,\n              children: \"\\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.dateInput,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"checkout\",\n                children: \"Check-out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"checkout\",\n                value: checkOut,\n                onChange: e => setCheckOut(e.target.value),\n                min: getMinCheckOutDate(),\n                disabled: !checkIn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.servicesSection,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Mejora tu estad\\xEDa \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: styles.costoPorDia,\n                children: \"(costo por d\\xEDa)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.servicesList,\n              children: serviciosDisponibles.map(servicio => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: styles.serviceItem,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: serviciosSeleccionados.has(servicio._id),\n                  onChange: () => handleServicioChange(servicio._id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: servicio.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: styles.servicePrice,\n                  children: [\"+$\", (servicio.precio_diario || 0).toLocaleString('es-CL')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this)]\n              }, servicio._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this), noches > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${styles.bookingCard} ${styles.priceSummary}`,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Resumen de tu estad\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.priceRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", ((preselectedRoom === null || preselectedRoom === void 0 ? void 0 : preselectedRoom.precio) || 0).toLocaleString('es-CL'), \" x \", noches, \" noches\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", costoAlojamiento.toLocaleString('es-CL')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 29\n          }, this), costoServicios > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.priceRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Servicios adicionales\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", costoServicios.toLocaleString('es-CL')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: styles.divider\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${styles.priceRow} ${styles.totalRow}`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", costoTotal.toLocaleString('es-CL')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 26\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.errorMessage,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.buttonContainer,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConfirm,\n            disabled: loading || noches <= 0,\n            className: styles.confirmButton,\n            children: loading ? 'Procesando...' : 'Confirmar y Reservar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ReservationsPage, \"9x2tCEy/oNFqY+WM6BNDNJnPjWA=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ReservationsPage;\nexport default ReservationsPage;\nvar _c;\n$RefreshReg$(_c, \"ReservationsPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useLocation","Link","useNavigate","styles","createReservation","AuthContext","getServiciosByHotelAdmin","Notification","jsxDEV","_jsxDEV","Fragment","_Fragment","getRoomImageUrl","roomName","name","toLowerCase","includes","replace","ReservationsPage","_s","location","navigate","user","preselectedRoom","state","checkIn","setCheckIn","checkOut","setCheckOut","noches","setNoches","serviciosDisponibles","setServiciosDisponibles","serviciosSeleccionados","setServiciosSeleccionados","Set","costoAlojamiento","setCostoAlojamiento","costoServicios","setCostoServicios","costoTotal","setCostoTotal","loading","setLoading","error","setError","notification","setNotification","show","message","type","hotel_id","then","response","data","catch","err","console","date1","Date","date2","diffTime","Math","abs","diffDays","ceil","precio","totalDiarioServicios","forEach","servicioId","servicio","find","s","_id","precio_diario","handleServicioChange","id","nuevosServicios","has","delete","add","handleConfirm","from","reservationData","habitacion_id","fecha_inicio","fecha_fin","estado","servicios_adicionales","Array","setTimeout","_err$response","_err$response$data","errorMessage","getMinCheckOutDate","toISOString","split","checkInDate","setDate","getDate","handleCheckInChange","e","newCheckIn","target","value","className","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","to","roomImage","nombre","onClose","bookingPageLayout","roomInfoColumn","src","alt","roomDetails","roomDescription","descripcion","roomCapacity","capacidad","bookingFormColumn","bookingCard","datePickerGroup","dateInput","htmlFor","onChange","min","arrow","disabled","servicesSection","costoPorDia","servicesList","map","serviceItem","checked","servicePrice","toLocaleString","priceSummary","priceRow","divider","totalRow","buttonContainer","onClick","confirmButton","_c","$RefreshReg$"],"sources":["C:/Users/David/Desktop/veranum-system/client/src/pages/ReservationsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useLocation, Link, useNavigate } from 'react-router-dom';\r\nimport styles from './ReservarPage.module.css';\r\nimport { createReservation } from '../services/reservasService';\r\nimport AuthContext from '../context/AuthContext';\r\nimport { getServiciosByHotelAdmin } from '../services/adminService'; \r\nimport Notification from '../components/common/Notification';\r\n\r\nconst getRoomImageUrl = (roomName) => {\r\n    const name = roomName ? roomName.toLowerCase() : '';\r\n    if (name.includes('doble')) return 'https://images-new.pxsol.com/0yXQIHHgg6QPIqHMdt5cFppRjSdRImPYVZKA8Zjp0F0/rs:fill:600:400:1/q:80/plain/https://files-public-web.s3-us-west-2.amazonaws.com/1217/company/library/user/209394497137de94aa9d4ab3e8a7f395b32600345c1.jpeg@jpeg';\r\n    if (name.includes('individual')) return 'https://www.abbahoteles.com/idb/72372/hotel_balmoral_individual-600x400.jpg';\r\n    if (name.includes('matrimonial')) return 'https://www.hotelterrano.cl/wp-content/uploads/2021/10/suite-1.jpg';\r\n    return `https://placehold.co/600x400/005f73/ffffff?text=${(roomName || '').replace(' ', '+')}`;\r\n};\r\n\r\nconst ReservationsPage = () => {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { user } = useContext(AuthContext);\r\n    const { preselectedRoom } = location.state || {};\r\n\r\n    const [checkIn, setCheckIn] = useState('');\r\n    const [checkOut, setCheckOut] = useState('');\r\n    const [noches, setNoches] = useState(0);\r\n    const [serviciosDisponibles, setServiciosDisponibles] = useState([]);\r\n    const [serviciosSeleccionados, setServiciosSeleccionados] = useState(new Set());\r\n    const [costoAlojamiento, setCostoAlojamiento] = useState(0);\r\n    const [costoServicios, setCostoServicios] = useState(0);\r\n    const [costoTotal, setCostoTotal] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [notification, setNotification] = useState({ show: false, message: '', type: '' });\r\n\r\n    useEffect(() => {\r\n        if (preselectedRoom?.hotel_id) {\r\n            getServiciosByHotelAdmin(preselectedRoom.hotel_id)\r\n                .then(response => {\r\n                    if (response.data) {\r\n                        setServiciosDisponibles(response.data);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.error(\"Error al cargar servicios adicionales:\", err);\r\n                });\r\n        }\r\n    }, [preselectedRoom]);\r\n\r\n    useEffect(() => {\r\n        if (checkIn && checkOut) {\r\n            const date1 = new Date(checkIn);\r\n            const date2 = new Date(checkOut);\r\n            if (date2 > date1) {\r\n                const diffTime = Math.abs(date2 - date1);\r\n                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n                setNoches(diffDays);\r\n                setCostoAlojamiento(diffDays * (preselectedRoom?.precio || 0));\r\n                return;\r\n            }\r\n        }\r\n        setNoches(0);\r\n        setCostoAlojamiento(0);\r\n    }, [checkIn, checkOut, preselectedRoom]);\r\n    \r\n    useEffect(() => {\r\n        let totalDiarioServicios = 0;\r\n        serviciosSeleccionados.forEach(servicioId => {\r\n            const servicio = serviciosDisponibles.find(s => s._id === servicioId);\r\n            if (servicio) {\r\n                totalDiarioServicios += servicio.precio_diario;\r\n            }\r\n        });\r\n        setCostoServicios(totalDiarioServicios * noches);\r\n    }, [serviciosSeleccionados, noches, serviciosDisponibles]);\r\n\r\n    useEffect(() => {\r\n        setCostoTotal(costoAlojamiento + costoServicios);\r\n    }, [costoAlojamiento, costoServicios]);\r\n\r\n    const handleServicioChange = (id) => {\r\n        const nuevosServicios = new Set(serviciosSeleccionados);\r\n        nuevosServicios.has(id) ? nuevosServicios.delete(id) : nuevosServicios.add(id);\r\n        setServiciosSeleccionados(nuevosServicios);\r\n    };\r\n\r\n    const handleConfirm = async () => {\r\n        if (!user) {\r\n            navigate('/login', { state: { from: location } });\r\n            return;\r\n        }\r\n        if (noches <= 0) {\r\n            setError('Por favor, selecciona fechas válidas.');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const reservationData = {\r\n                habitacion_id: preselectedRoom._id,\r\n                fecha_inicio: checkIn,\r\n                fecha_fin: checkOut,\r\n                estado: 'Confirmado',\r\n                servicios_adicionales: Array.from(serviciosSeleccionados),\r\n            };\r\n            await createReservation(reservationData);\r\n            setNotification({ show: true, message: '¡Su reserva se ha realizado con éxito!', type: 'success' });\r\n            setTimeout(() => {\r\n                navigate('/dashboard/mis-reservas');\r\n            }, 3000);\r\n        } catch (err) {\r\n            const errorMessage = err.response?.data?.message || 'No se pudo completar la reserva.';\r\n            setError(errorMessage);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    \r\n    const getMinCheckOutDate = () => {\r\n        if (!checkIn) return new Date().toISOString().split('T')[0];\r\n        const checkInDate = new Date(checkIn);\r\n        checkInDate.setDate(checkInDate.getDate() + 1);\r\n        return checkInDate.toISOString().split('T')[0];\r\n    };\r\n\r\n    const handleCheckInChange = (e) => {\r\n        const newCheckIn = e.target.value;\r\n        setCheckIn(newCheckIn);\r\n        if (checkOut && new Date(checkOut) <= new Date(newCheckIn)) {\r\n            setCheckOut('');\r\n        }\r\n    };\r\n\r\n    if (!preselectedRoom) {\r\n        return (\r\n            <div className=\"container\" style={{ textAlign: 'center', padding: '4rem 0' }}>\r\n                <h1>Error</h1>\r\n                <p>No se ha seleccionado ninguna habitación. Por favor, <Link to=\"/habitaciones\">vuelve a la página de habitaciones</Link>.</p>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    const roomImage = getRoomImageUrl(preselectedRoom.nombre);\r\n\r\n    return (\r\n        <>\r\n            {/* --- AQUÍ VA EL COMPONENTE DE NOTIFICACIÓN --- */}\r\n            <Notification \r\n                show={notification.show} \r\n                message={notification.message}\r\n                type={notification.type}\r\n                onClose={() => setNotification({ show: false, message: '', type: '' })}\r\n            />\r\n\r\n            <div className={`container ${styles.bookingPageLayout}`}>\r\n                <div className={styles.roomInfoColumn}>\r\n                    <img src={roomImage} alt={preselectedRoom.nombre} className={styles.roomImage} />\r\n                    <div className={styles.roomDetails}>\r\n                        <h1>{preselectedRoom.nombre}</h1>\r\n                        <p className={styles.roomDescription}>{preselectedRoom.descripcion}</p>\r\n                        <div className={styles.roomCapacity}>\r\n                            <span>{preselectedRoom.capacidad} personas</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.bookingFormColumn}>\r\n                    <div className={styles.bookingCard}>\r\n                        <h2>Completa tu reserva</h2>\r\n                        <div className={styles.datePickerGroup}>\r\n                            <div className={styles.dateInput}>\r\n                                <label htmlFor=\"checkin\">Check-in</label>\r\n                                <input type=\"date\" id=\"checkin\" value={checkIn} onChange={handleCheckInChange} min={new Date().toISOString().split('T')[0]}/>\r\n                            </div>\r\n                            <div className={styles.arrow}>→</div>\r\n                            <div className={styles.dateInput}>\r\n                                <label htmlFor=\"checkout\">Check-out</label>\r\n                                <input type=\"date\" id=\"checkout\" value={checkOut} onChange={e => setCheckOut(e.target.value)} min={getMinCheckOutDate()} disabled={!checkIn} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={styles.servicesSection}>\r\n                            <h3>Mejora tu estadía <span className={styles.costoPorDia}>(costo por día)</span></h3>\r\n                            <div className={styles.servicesList}>\r\n                                {serviciosDisponibles.map(servicio => (\r\n                                    <label key={servicio._id} className={styles.serviceItem}>\r\n                                        <input type=\"checkbox\" checked={serviciosSeleccionados.has(servicio._id)} onChange={() => handleServicioChange(servicio._id)} />\r\n                                        <span>{servicio.nombre}</span>\r\n                                        <span className={styles.servicePrice}>+${(servicio.precio_diario || 0).toLocaleString('es-CL')}</span>\r\n                                    </label>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {noches > 0 && (\r\n                         <div className={`${styles.bookingCard} ${styles.priceSummary}`}>\r\n                            <h3>Resumen de tu estadía</h3>\r\n                            <div className={styles.priceRow}>\r\n                                <span>${(preselectedRoom?.precio || 0).toLocaleString('es-CL')} x {noches} noches</span>\r\n                                <span>${costoAlojamiento.toLocaleString('es-CL')}</span>\r\n                            </div>\r\n                            {costoServicios > 0 && (\r\n                                <div className={styles.priceRow}>\r\n                                    <span>Servicios adicionales</span>\r\n                                    <span>${costoServicios.toLocaleString('es-CL')}</span>\r\n                                </div>\r\n                            )}\r\n                            <hr className={styles.divider} />\r\n                            <div className={`${styles.priceRow} ${styles.totalRow}`}>\r\n                                <span>Total</span>\r\n                                <span>${costoTotal.toLocaleString('es-CL')}</span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    \r\n                    {error && <p className={styles.errorMessage}>{error}</p>}\r\n\r\n                    <div className={styles.buttonContainer}>\r\n                        <button onClick={handleConfirm} disabled={loading || noches <= 0} className={styles.confirmButton}>\r\n                            {loading ? 'Procesando...' : 'Confirmar y Reservar'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ReservationsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}